@(user:User,productList: List[Product])

@import helper._

@main("UserOrder list") {


<div class="row">        
    <ul class="nav nav-pills">
        <li class="active"><a href="#">Commandes</a></li>
        <li><a href='/globalorderlist'>Admin</a></li>
        <li><a href="/logout">Logout</a></li>

    </ul>
</div>

<div class="row">
    <div class="col-md-4">
        <h2>@user.name</h2>

        <ul>
            <li>@user.userOrderList.size() userOrders</li>
            <ul>
                @for(status <- 0 to 2){
                <li>Nb UserOrder with status @status @user.getNbUserOrderByStatus(status)</li>
                }
            </ul>
            <li>
            @form(routes.UserOrderController.newUserOrder()){
            <button type="submit"><span class="glyphicon glyphicon-plus"></span></button>
            }
            </li>

        </ul> 

        <ul>
        @for(userOrder<-user.userOrderList){
            <li>Commande @userOrder.id @userOrder.date @userOrder.getQuantity() capsules @userOrder.getPrice() Euros @userOrder.paid                 
            @form(routes.UserOrderController.userOrder(userOrder.id)) {
            <button type="submit"><span class="glyphicon glyphicon-cog"></span></button>
            }
            </li>
        }
        </ul>

    </div>
    
    <div class="col-md-8">
    	
        <div class="row">
            @if(user.userOrderList.size()>0){
                @if(user.userOrderList.get(0).orderProductList.size()>0){
                    @for(orderProduct <- user.userOrderList.get(0).orderProductList){
                    <li>@orderProduct.id @orderProduct.quantity @orderProduct.product.name</li>
                    @form(routes.OrderProductController.increaseQuantity(orderProduct.id), 'class -> "orderProductControl") {
                    <button type="submit"><span class="glyphicon glyphicon-plus"></span></button>
                    }
                    @form(routes.OrderProductController.decreaseQuantity(orderProduct.id), 'class -> "orderProductControl") {
                    <button type="submit"><span class="glyphicon glyphicon-minus"></span></button>
                    }
                    @form(routes.OrderProductController.deleteOrderProduct(orderProduct.id)) {
                    <button type="submit"><span class="glyphicon glyphicon-remove"></span></button>
                    }
                    }
                }  
            }
        </div>

        <div class="row">
            <ul>
            @for(product <- productList){
                <li> @product.id @product.name @product.intensity @product.price Eur
                @form(routes.OrderProductController.newOrderProduct(user.userOrderList.get(0).id)) {
                    <input type="hidden" value="@product.id" name="product.id"/>
                    <button type="submit"><span class="glyphicon glyphicon-plus"></span></button>
                }
                </li>
            }    
            </ul>
        </div>

    </div>
</div>	    

}